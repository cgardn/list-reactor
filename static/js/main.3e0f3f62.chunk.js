(this["webpackJsonplist-reactor"]=this["webpackJsonplist-reactor"]||[]).push([[0],{14:function(t,e,n){t.exports=n(29)},19:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(2),c=n.n(s),l=(n(19),n(4)),r=function(t){var e=Object(a.useCallback)((function(t){t&&t.focus()}),[]);return i.a.createElement(i.a.Fragment,null,!0===t.isEdit?i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.setIsEdit()}},i.a.createElement("input",{className:t.className,value:t.content,ref:e,onChange:function(e){return t.onChange(t.id,e.target.value)},onBlur:function(e){return t.setIsEdit()}})):i.a.createElement("span",{className:t.className,onClick:function(e){return t.setIsEdit()}},t.content))},o=n(3),d=n(13),u=n(5),m=n(1),E=function(t,e){var n=function(){return t.freeIds.length>0?t.freeIds.pop():t.nextId++};switch(e.type){case"ADD_TODO":var a={id:n(),content:"Click to edit",isEdit:!0};return Object(m.a)(Object(m.a)({},t),{},{items:Object(m.a)(Object(m.a)({},t.items),{},Object(u.a)({},a.id,a)),lists:t.lists.map((function(t){return t.id===e.listId?Object(m.a)(Object(m.a)({},t),{},{items:t.items.concat(a.id)}):t}))});case"REMOVE_TODO":return t.freeIds.push(e.itemId),delete t.items[e.itemId],Object(m.a)(Object(m.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.listId?Object(m.a)(Object(m.a)({},t),{},{items:t.items.filter((function(t){return t!==e.itemId}))}):t}))});case"SET_IS_EDIT":return Object(m.a)(Object(m.a)({},t),{},{items:Object(m.a)(Object(m.a)({},t.items),{},Object(u.a)({},e.itemId,Object(m.a)(Object(m.a)({},t.items[e.itemId]),{},{isEdit:e.newState})))});case"UPDATE_TODO_CONTENT":return Object(m.a)(Object(m.a)({},t),{},{items:Object(m.a)(Object(m.a)({},t.items),{},Object(u.a)({},e.itemId,Object(m.a)(Object(m.a)({},t.items[e.itemId]),{},{content:e.content})))});case"ADD_LIST":var i={title:"New List",id:n().toString(),items:[]};return Object(m.a)(Object(m.a)({},t),{},{lists:[].concat(Object(d.a)(t.lists),[i])});case"REMOVE_LIST":return t.freeIds.push(e.listId),Object(m.a)(Object(m.a)({},t),{},{lists:t.lists.filter((function(t){return t.id!==e.listId}))});case"SET_LIST_TITLE_IS_EDIT":return Object(m.a)(Object(m.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.listId?(t.isTitleEdit=e.newState,t):t}))});case"UPDATE_LIST_TITLE":return Object(m.a)(Object(m.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.listId?Object(m.a)(Object(m.a)({},t),{},{title:e.newTitle}):t}))});case"MOVE_TODO":var s=t.lists.find((function(t){return t.id===e.payload.sourceList})).items.splice(e.payload.sourceIndex,1);return Object(m.a)(Object(m.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.payload.destList?Object(m.a)(Object(m.a)({},t),{},{items:t.items.slice(0,e.payload.destIndex).concat(s).concat(t.items.slice(e.payload.destIndex,t.items.length))}):t}))});default:return t}},f={lists:[{id:"m",title:"Monday",items:[],isTitleEdit:!1},{id:"t",title:"Tuesday",items:[],isTitleEdit:!1},{id:"w",title:"Wednesday",items:[],isTitleEdit:!1},{id:"r",title:"Thursday",items:[],isTitleEdit:!1},{id:"f",title:"Friday",items:[],isTitleEdit:!1},{id:"s",title:"Saturday",items:[],isTitleEdit:!1},{id:"u",title:"Sunday",items:[],isTitleEdit:!1}],items:{},freeIds:[],nextId:0},O=i.a.createContext(null),b=function(t){return i.a.createElement("button",{className:"item-menu",autoFocus:!0,style:{top:t.posY,left:t.posX},onClick:t.onClick,onBlur:t.onBlur},"Delete")},p=function(t){var e=i.a.useState([0,0,!1]),n=Object(l.a)(e,2),a=n[0],s=n[1],c=i.a.useContext(O),d=function(){return i.a.createElement("button",{className:"deleteItemButton list-item-objects",onClick:function(t){return s([t.pageX,t.pageY,!a[2]])}},String.fromCharCode(9899)+" "+String.fromCharCode(9899)+" "+String.fromCharCode(9899))},u=function(t){return i.a.createElement(o.b,{key:t.id,draggableId:t.id.toString(),index:parseInt(t.index)},(function(e){return i.a.createElement("div",Object.assign({className:"list-item",ref:e.innerRef},e.draggableProps,e.dragHandleProps),t.children)}))};return i.a.createElement(u,{id:t.id,index:parseInt(t.index)},i.a.createElement(r,{className:"list-item-objects list-item-label",id:t.id,content:t.itemObject.content,isEdit:t.itemObject.isEdit,onChange:t.onChange,setIsEdit:function(e,n){c({type:"SET_IS_EDIT",itemId:t.id,newState:!t.itemObject.isEdit})}}),i.a.createElement(d,null),a[2]&&i.a.createElement(b,{posX:a[0],posY:a[1],onClick:t.onDeleteClick,onBlur:function(t){return s([0,0,!a])}}))},I=function(t){var e=i.a.useContext(O),n=function(t,n){e({type:"UPDATE_TODO_CONTENT",itemId:t,content:n})},a=function(){e({type:"ADD_TODO",listId:t.id})},s=function(n){e({type:"SET_LIST_TITLE_IS_EDIT",listId:t.id,newState:!t.list.isTitleEdit})},c=function(n,a){e({type:"UPDATE_LIST_TITLE",listId:t.id,newTitle:a})},l=t.list.items.map((function(a,s){return i.a.createElement(p,{key:a,id:a,index:s,itemObject:t.todoState.items[a],onChange:n,onDeleteClick:function(){return n=a,void e({type:"REMOVE_TODO",listId:t.id,itemId:n});var n}})})),d=function(t){return i.a.createElement("div",{className:"".concat(t.thisClass,"-individual")},t.children)},u=function(){return i.a.createElement("div",{className:"".concat(t.thisClass,"-individual-title")},i.a.createElement(r,{className:"list-item-objects list-item-label",id:t.list.id,content:t.list.title,onChange:c,isEdit:t.list.isTitleEdit,setIsEdit:s}),t.canDelete&&i.a.createElement("button",{className:"list-delete-button",onClick:t.onDeleteClick},"X"))},m=function(){return i.a.createElement(o.c,{droppableId:t.list.id+""},(function(e){return i.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{className:"".concat(t.thisClass,"-list")}),l,e.placeholder)}))},E=function(){return i.a.createElement("button",{className:"addItemButton",style:{fontsize:"2rem"},onClick:a},"+")};return i.a.createElement(d,{thisClass:t.thisClass,key:"listcontainer-".concat(t.list.id)},i.a.createElement(u,{key:"listtitle-".concat(t.list.id)}),i.a.createElement(m,{key:"listcontent-".concat(t.list.id)}),i.a.createElement(E,{key:"addtodobutton=".concat(t.list.id)}))},T=(n(26),function(t){var e=i.a.useContext(O),n=function(){e({type:"ADD_LIST"})},a=function(n){t.todoState.lists.map((function(t){return t.id===n&&t.items.forEach((function(t){e({type:"REMOVE_TODO",itemId:t})})),t})),e({type:"REMOVE_LIST",listId:n})},s=function(){return i.a.createElement("button",{className:"addListButton",onClick:n},"+ Add list")},c=function(t){return i.a.createElement("div",{className:t.thisClass},i.a.createElement("div",{className:"".concat(t.thisClass,"-container")},t.children))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{onDragEnd:function(t){var n=t.source,a=t.destination;null!==n&&null!==a&&e({type:"MOVE_TODO",payload:{sourceList:n.droppableId,sourceIndex:n.index,destList:a.droppableId,destIndex:a.index}})}},i.a.createElement(c,{thisClass:"calendar",key:"calendarcontainer"},t.todoState.lists.map((function(e,n){return n<=6&&i.a.createElement(i.a.Fragment,null,i.a.createElement(I,{thisClass:"calendar",todoState:t.todoState,list:e,index:n,id:e.id+"",key:e.id,canDelete:!1,canEditTitle:!1,onDeleteClick:function(){return a(e.id)}}))}))),i.a.createElement("hr",{style:{width:"90vw"}}),i.a.createElement(c,{thisClass:"todo",key:"todolistcontainer"},t.todoState.lists.length>0&&i.a.createElement(i.a.Fragment,null,t.todoState.lists.map((function(e,n){return n>6&&i.a.createElement(i.a.Fragment,null,i.a.createElement(I,{thisClass:"todo",todoState:t.todoState,list:e,index:n,id:e.id,key:e.id,canDelete:!0,canEditTitle:!0,onDeleteClick:function(){return a(e.id)}}))}))),i.a.createElement(s,{key:"addlistbutton"}))))}),j=(n(27),function(t){return i.a.createElement("ul",{className:"settings-menu",style:{top:t.posY,left:t.posX}},i.a.createElement("li",{className:"settings-menu-item",onClick:function(e){console.log(JSON.stringify(t.todoState))}},"Export"),i.a.createElement("li",{className:"settings-menu-item"},"Import"))}),S=function(t){var e=i.a.useState([0,0,!1]),n=Object(l.a)(e,2),a=n[0],s=n[1];return i.a.createElement("div",{className:"navbar"},i.a.createElement("span",{className:"navbar-title navbar-item"},"List Reactor"),i.a.createElement("span",{className:"navbar-settings navbar-item",onClick:function(t){return s([t.pageX,t.pageY,!a[2]])}},"Settings"),a[2]&&i.a.createElement(j,{posX:a[0]-90,posY:a[1]+10,todoState:t.todoState}))},g=(n(28),function(){var t=i.a.useReducer(E,JSON.parse(localStorage.getItem("listreactor-state"))||f),e=Object(l.a)(t,2),n=e[0],a=e[1];i.a.useEffect((function(){localStorage.setItem("listreactor-state",JSON.stringify(n))}),[n]);var s=function(t){return i.a.createElement(O.Provider,{value:a},i.a.createElement(S,{todoState:n}),i.a.createElement("div",{className:"app"},t.children))};return i.a.createElement(s,null,i.a.createElement(T,{todoState:n}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.3e0f3f62.chunk.js.map